Основные проблемы, с которыми я столкнулся:

- Трудно проектировать системы в области анализа данных и машинного обучения, т.к. там очень много компонентов, которые могут изменяться, а также огромную роль играет бизнес-логика.
  Соответственно, при даже незначительных изменениях в бизнес-логике могут потребоваться существенные изменения в системе.
  В целом, я понимаю, что это означает провал дизайна, но пока что трудно при реализации не фокусироваться на имеющихся данных, т.к. они всё решают.
  
- Как следствие вышесказанного, довольно трудно проектировать тесты в соответствии с TDD, т.к. не удаётся абстрагироваться от конкретики данных.

После изучения материалов у меня сложилось впечатление, что методология BDD может быть крайне полезной именно с привязкой в проектам в области анализа данных, т.к. помогает более чётко определить спецификацию проекта именно с точки зрения бизнеса.

В связи с этим мне не удалось полноценно спроектировать систему (по правде говоря, я даже не особо понимаю, как к этому вообще лучше подходить, если мы не фокусируемся на конкретной реализации), поэтому в рамках реализации по TDD я ограничился некоторыми функциональными аспектами проекта, не вдаваясь в глубокую абстракцию.

Тест в соответствии с TDD:

```py
class TestGetCoreCampaignPrePeriodsFunction(unittest.TestCase):
    def test_get_core_campaigns_pre_periods(self):
        camp_date_1 = dt.datetime(2024, 1, 1)
        camp_date_2 = dt.datetime(2024, 2, 29)
        camp_date_3 = dt.datetime(2024, 6, 10)

        result_camp_date_1 = [dt.datetime(2023, 11, 1), dt.datetime(2023, 12, 1), dt.datetime(2024, 1, 1)]
        result_camp_date_2 = [dt.datetime(2024, 2, 1), dt.datetime(2024, 1, 1), dt.datetime(2023, 12, 1)]
        result_camp_date_3 = [dt.datetime(2024, 6, 1), dt.datetime(2024, 5, 1), dt.datetime(2024, 4, 1)]

        self.assertCountEqual(cbl.get_core_campaign_pre_periods(camp_date_1), result_camp_date_1)
        self.assertCountEqual(cbl.get_core_campaign_pre_periods(camp_date_2), result_camp_date_2)
        self.assertCountEqual(cbl.get_core_campaign_pre_periods(camp_date_3), result_camp_date_3)
```

Реализация:

```py
def get_core_campaign_pre_periods(camp_date: dt.datetime) -> list:
    pre_periods = []
    for n_months_ago in range(3):
        pre_periods.append(camp_date - relativedelta(months=n_months_ago))
    return pre_periods
```

В целом, так как эта функция представляет собой минимальный блок дизайна программы, то для этого примера можно сказать, что тесты и код следуют дизайну.

Другие реализации являются похожими, и представляют собой примеры тестирования минимальных блоков дизайна системы.

К сожалению, мне не удалось реализовать более комплексный дизайн ввиду жёсткой привязки проектов к данным.
